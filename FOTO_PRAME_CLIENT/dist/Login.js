import{u as j,r as S,j as t}from"./index.js";import{C as y,S as w,B as c,T as E,j as C,c as b}from"./client.js";import{G as z,a as I}from"./index.esm.js";const O="/loginvideo.mp4",N=()=>{const l=j(),[o,s]=S.useState({open:!1,vertical:"top",horizontal:"center",message:""}),{vertical:n,horizontal:r,open:u,message:d}=o,p=()=>{s({...o,open:!1,message:""})},a=e=>{s({...{vertical:"top",horizontal:"right"},open:!0,message:e})},g=e=>{const i=C(e.credential),{name:h,sub:x,picture:f}=i;localStorage.setItem("user",JSON.stringify(e.credential));const v={_id:x,_type:"user",userName:h,image:f};b.createIfNotExists(v).then(()=>{a("Succesfully logged in...."),setTimeout(()=>{l("/",{replace:!0})},1e3)})},m=e=>{a(`Error: ${e}`)};return t.jsx(z,{clientId:"471765190901-m49f5e5ccv8q1k8vqt5mn2o6fl8d3st5.apps.googleusercontent.com",children:t.jsxs(y,{maxWidth:"xl",disableGutters:!0,sx:{height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[t.jsx(w,{anchorOrigin:{vertical:n,horizontal:r},open:u,onClose:p,message:d},n+r),t.jsx(c,{sx:{position:"relative",width:"100%"},children:t.jsx("video",{src:O,type:"video/mp4",loop:!0,controls:!1,muted:!0,autoPlay:!0,style:{width:"100%",height:"100vh",objectFit:"cover"}})}),t.jsxs(c,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"12px"},children:[t.jsx(E,{variant:"h1",fontSize:28,letterSpacing:2,children:"FOTOPRAME"}),t.jsx(I,{onSuccess:e=>g(e),onError:e=>{m(e)}})]})]})})};export{N as default};
//# sourceMappingURL=Login.js.map
